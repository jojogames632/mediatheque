{% extends "registrant/index.html.twig" %}

{% block title %}Emprunts en cours{% endblock %}

{% block stylesheets %}
	{{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/registrant/myBorrowedBooks.css') }}" />
{% endblock %}

{% block body %}
	<div class="container-fluid p-0">

		{# mobile navigation (toggle on) #}
		<div class="w-100 p-3 d-none justify-content-between align-items-center mobileHeader" id="mobileHeaderOn">
			<span class="text-white mobileProfilTitle ml-3">Compte inscrit</span>
			<span class="text-white closeBtn mr-3" onClick="toggleHeader()">X</span>
			<div id="navigationBackground">
				<div class="d-flex flex-column justify-content-center align-items-center navContainer">
					<a href="{{ path('registrant_home') }}" class="text-white mb-5">Découvrir le catalogue</a>
					<a href="#" class="text-warning">Emprunts en cours</a>
					<a href="{{ path('app_logout') }}" class="text-white mt-5">Se déconnecter</a>
				</div>
			</div>
		</div>

		{# mobile navigation (toggle off) #}
		<div class="w-100 p-3 justify-content-between align-items-center mobileHeader" id="mobileHeaderOff">
			<span class="text-white mobileProfilTitle ml-3">Compte inscrit</span>
			<svg 
				xmlns="http://www.w3.org/2000/svg" 
				width="40" 
				height="40" 
				fill="currentColor" 
				class="bi bi-list text-white mr-3"
				id="burgerBtn" 
				viewBox="0 0 16 16"
				onClick="toggleHeader()"
			>
				<path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
			</svg>
		</div>

		{# desktop navigation #}
		<div class="row">
			<div class="col-2 flex-column align-items-center" id="desktopProfil">
				<span class="mb-5 text-white desktopProfilTitle mt-4">Compte inscrit</span>
				<a href="{{ path('registrant_home') }}" class="w-100 btn btn-outline-warning mb-2" id="activeLink">Découvrir le catalogue</a>
				<a href="#" class="w-100 btn btn-warning text-white">Emprunts en cours</a>
				<a href="{{ path('app_logout') }}" class="w-100 btn btn-outline-warning text-white" id="logoutBtn">Se déconnecter</a>
			</div>
		</div>
		
		{# Main #}
		<div class="row bg-warning p-3">
			<div class="col-2 text-center">
				<svg 
					xmlns="http://www.w3.org/2000/svg"
					width="40"
					height="40"
					fill="currentColor"
					class="bi bi-exclamation-triangle"
					viewBox="0 0 16 16"
				>
					<path d="M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"/>
					<path d="M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z"/>
				</svg>
			</div>
			<div class="col-10">
				Chaque livre emprunté doit être rendu 3 semaines au plus tard à partir de la date de récupération
			</div>
		</div>
		
		{% for book in borrowedBooks %}

			<div class="row text-center d-flex justify-content-center mt-4">
				<div class="col-3 d-flex justify-content-center align-items-center">
					<img src="{{ asset('uploads/' ~ book.pictureFilename) }}" alt="livre" class="bookImage">
				</div>
				<div class="col-7 p-3">
					<h3>{{ book.title }}</h3>
					<p>Parue le {{ book.releaseDate|date('m/d/Y') }}</p>
					<p>{{ book.author }}</p>
					<p>{{ book.genre }}</p>
					<p class="borrowedBookInfo">Réservé le {{ book.reservationDate|date('d/m/Y à H:i') }}</p>
				</div>
			</div>
			<div class="w-100 text-start p-4">
				{{ book.description }}
			</div>

			<hr class="my-4" />

		{% endfor %}

	</div>
{% endblock %}